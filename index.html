<!DOCTYPE html>
<html lang="bg">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- iOS/Safari UI цвет над адрес бара -->
  <meta name="theme-color" content="#0B1226" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#0B1226" media="(prefers-color-scheme: dark)">
  <!-- Ако се добави към Home Screen -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- кажи на браузъра, че сайтът е само light -->
  <meta name="color-scheme" content="light">
  <!-- за WebKit/Safari (допълнително) -->
  <meta name="supported-color-schemes" content="light">

  <title>Wonderland</title>
  <link rel="icon" type="image/png" href="assets/img/Gold-4.png">

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Основни стилове -->
  <link rel="stylesheet" href="styles.css">

</head>
<body>
<div id="intro-curtain" aria-hidden="true">
  <div class="curtain-panel left"></div>

  <!-- всичко (логото + линиите) вече е вътре в ДЯСНАТА завеса -->
  <div class="curtain-panel right">
    <div class="curtain-center">
      <div class="curtain-line top"></div>
      <div class="curtain-logo" role="img" aria-label="Wonderland"></div>
      <div class="curtain-line bottom"></div>
    </div>
  </div>
</div>
<!-- Реално звездно небе (ползваме твоя custom shape) -->
<svg id="starfield" class="starfield" viewBox="0 0 100 100" aria-hidden="true">
  <defs>
    <symbol id="star-shape" viewBox="280 520 20 20">
      <path d="M286.52,527.53c-1.22,1.37-2.64,1.97-4.57,2.18-.22.02-.23.32-.02.37,1.76.38,3.3,1.06,4.52,2.33,1.3,1.34,1.62,3.06,1.88,4.94.03.23.37.23.39,0,.14-1.6.25-3.23,1.25-4.47,1.08-1.34,2.84-2.57,4.59-2.88.14-.02.14-.22,0-.25-1.67-.36-3.3-1.18-4.34-2.4-.73-.85-1.34-2.88-1.76-4.49-.05-.2-.34-.17-.36.03-.18,1.86-.49,3.42-1.58,4.65Z"/>
    </symbol>
    <symbol id="star-shape-rot" viewBox="280 520 20 20">
      <g transform="rotate(35 540 540)"><use href="#star-shape"/></g>
    </symbol>
    <symbol id="star-shape-slim" viewBox="280 520 20 20">
      <g transform="translate(540 540) scale(1,0.8) translate(-540 -540)"><use href="#star-shape"/></g>
    </symbol>
  </defs>
</svg>

<!-- HEADER -->
<header id="stickyHeader" class="magic-header py-2">
  <div class="container text-center">
    <!-- В хедъра използваме SVG-маска (виж styles.css: .header-logo-svg) -->
    <div id="headerLogoSvg" class="header-logo-svg mx-auto"></div>
  </div>
</header>

<!-- Основно съдържание със snap секции -->
<main class="page-snap">

  <!-- HERO -->
  <section id="hero" class="hero snap d-flex align-items-center justify-content-center">
    <div class="container text-center">
      <div class="logo-svg mb-3"></div>
      <p class="lead mx-auto" style="max-width:760px">
        Потопи се в свят, изпълнен с мистерия, усмивки и незабравими моменти.
      </p>
    </div>
  </section>

  <!-- КАК РАБОТИ -->
  <section id="how" class="how snap py-5">
    <div class="container">
      <h2 class="text-center mb-4" style="font-family:'Rosarium',serif;">Как работи</h2>

      <p class="how-sublead text-center mx-auto mb-4">
        Всяко приключение в <span class="inline-logo"></span> започва с искра на въображението.
        Ние я превръщаме в пълен с магия път, по който ще преминем заедно:
      </p>

      <div class="row justify-content-center">
        <div class="col-12 col-md-10">
          <div class="d-flex flex-column flex-md-row flex-wrap gap-2 justify-content-center">
            <div class="flex-fill p-3 rounded-4 step-box">
              <div class="step-circle"><span>1</span></div>
              <div class="step-text">Избери своя вълшебен пакет – натисни бутона „Запитване“ и отключи портала</div>
            </div>

            <div class="flex-fill p-3 rounded-4 step-box">
              <div class="step-circle"><span>2</span></div>
              <div class="step-text">Определи дата – денят, в който магията ще оживее</div>
            </div>

            <div class="flex-fill p-3 rounded-4 step-box">
              <div class="step-circle"><span>3</span></div>
              <div class="step-text">Изпрати своето послание и скоро ще чуеш от нас – вратата към Wonderland ще се отвори</div>
            </div>

            <!-- 4-та стъпка: по желание (линк към #invite) -->
            <a href="#invite" class="flex-fill p-3 rounded-4 step-box step-box--optional text-decoration-none" aria-label="По желание: Генерирай покана">
              <span class="badge-optional">по желание</span>
              <div class="step-circle step-circle--optional"><span>4</span></div>
              <div class="step-text mt-4 mt-sm-0">
                Персонализирай поканата (A4) в нашия стил и изтегли <strong>PDF</strong> за споделяне.
              </div>
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Пакети (динамични от Google Drive) -->
  <section id="packages" class="snap py-5">
    <div class="container">
      <div id="packages-root"></div>
    </div>
  </section>

  <!-- ГАЛЕРИЯ (динамична от Google Drive) -->
  <section id="gallery" style="padding-top: -3rem;" class="snap">
    <div class="container">
      <h2 class="text-center mb-4" style="font-family:'Rosarium',serif;">Галерия</h2>
      <div id="galleryCarousel"
           class="carousel slide shadow-lg rounded-4 overflow-hidden drive-gallery"
           data-bs-ride="carousel" data-bs-interval="4000" aria-label="Галерия">
        <div class="carousel-inner"></div>

        <button class="carousel-control-prev" type="button" data-bs-target="#galleryCarousel" data-bs-slide="prev" aria-label="Предишен">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#galleryCarousel" data-bs-slide="next" aria-label="Следващ">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
        </button>

        <div class="carousel-indicators m-0"></div>
      </div>

      <div class="text-center mt-4">
        <button class="btn btn-outline-light" data-scroll="#contact">Имам въпрос</button>
      </div>
    </div>
  </section>

  <!-- ФОРМА ЗА ЗАПИТВАНЕ -->
  <section id="contact" class="contact snap py-5">
    <div class="container" style="max-width: 860px;">
      <h2 class="text-center mb-3" style="font-family:'Rosarium',serif;">Изпрати запитване</h2>
      <p class="text-center opacity-75 mb-4">
        Опиши накратко събитието и желаната дата – ще върнем идея и ориентир.
      </p>

      <!-- Индикация за избран пакет -->
      <div id="selectedPackageBadge" class="selected-package d-none" aria-live="polite">
        <span class="label">Избран пакет:</span>
        <strong class="value"></strong>
        <button class="clear" type="button" aria-label="Премахни избрания пакет">×</button>
      </div>

      <form id="contactForm">
        <!-- скрито поле за пакета -->
        <input type="hidden" name="package" id="packageField" value="">

        <div class="row g-3">
          <div class="col-md-6">
            <label class="form-label">Име</label>
            <input type="text" class="form-control" name="name" placeholder="Име" required>
          </div>
          <div class="col-md-6">
            <label class="form-label">Имейл</label>
            <input type="email" class="form-control" name="email" placeholder="Имейл" required>
          </div>

          <div class="col-md-6">
            <label class="form-label">Дата</label>
            <input type="date" class="form-control" name="date" id="dateField" required>
          </div>
          <div class="col-md-6">
            <label class="form-label">Телефон (по желание)</label>
            <input type="tel" class="form-control" name="phone" inputmode="tel" placeholder="+359 ...">
          </div>

          <div class="col-12">
            <label class="form-label">Съобщение</label>
            <textarea class="form-control" name="message" rows="5" placeholder="Дата, място, идея…" required></textarea>
          </div>

          <div class="col-12 text-center">
            <button type="submit" class="btn btn-lg mt-2">Изпрати</button>
          </div>
        </div>
        <input type="text" name="_hp" id="hp" autocomplete="off" tabindex="-1" style="position:absolute; left:-9999px;" aria-hidden="true">
      </form>
      <!-- УСПЕШНО ИЗПРАТЕНО -->
      <div class="modal fade" id="contactSuccessModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content" style="border-radius: 14px;">
            <div class="modal-header border-0">
              <h5 class="modal-title">Благодарим ви! ✨</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Затвори"></button>
            </div>
            <div class="modal-body pt-0">
              <p class="mb-0">
                Благодарим ви, че направихте вашата вълшебна заявка.
                Ще се свържем с вас в рамките на <strong>24 часа</strong>.
              </p>
            </div>
            <div class="modal-footer border-0">
              <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Ок</button>
            </div>
          </div>
        </div>
      </div>

    </div>
  </section>

  <!-- ЗА НАС -->
  <section id="about" class="about snap py-5">
    <div class="container" style="max-width: 980px;">
      <h2 class="text-center mb-4" style="font-family:'Rosarium',serif;">За нас</h2>

      <div class="row g-4 align-items-stretch">
        <!-- Ляво: текст/история -->
        <div class="col-12 col-lg-7 d-flex">
          <div class="pack-card p-4 w-100">
            <p class="opacity-90 mb-3">
              В търсене сте на удобно и приветливо място, в което вашият празник да бъде уютен и вълнуващ?
              Заповядайте в <strong>Wonderland</strong> – нашето специално място под наем, създадено с много любов,
              за да се чувствате точно като у дома!
            </p>
            <p class="opacity-90 mb-3">
              Тук всеки рожден ден се превръща в топло и незабравимо изживяване. Просторно, светло и стилно обзаведено,
              нашето пространство е идеално за игри, смях и празнуване с близки и приятели.
            </p>
            <p class="opacity-90 mb-3">
              Нашата цел е децата да се забавляват, а родителите – да чувстват комфорт и спокойствие – като вкъщи, но много по-забавно.
            </p>
            <p class="opacity-90 mb-0">
              Запазете своето уютно парти място още днес!
            </p>

            <div class="mt-3">
              <a class="btn btn-primary" data-scroll="#packages">Избери пакет</a>
            </div>
          </div>
        </div>

        <!-- Дясно: факти/удобства -->
        <div class="col-12 col-lg-5 d-flex">
          <div class="pack-card p-4 w-100">
            <ul class="mb-3 list-unstyled">
              <li class="mb-2"><strong class="text-gold">Капацитет:</strong> До 15 възрастни и до 15 деца</li>
              <li class="mb-2"><strong class="text-gold">Подходящо:</strong> Деца до 10 г. (включително)</li>
              <li class="mb-0"><strong class="text-gold">Наем:</strong> 2 ч. 30 мин. (+ 30 мин. бонус за подготовка)</li>
            </ul>

            <hr class="opacity-25">

            <div class="pkg-label mb-2">Разполагаме с:</div>
            <ul class="mb-0 opacity-90">
              <li>Удобна мека мебел за почивка и разговори, бар плот и столове за родителите и комфортни масички за децата</li>
              <li>Малък кухненски бокс за напитки и почерпка (кафемашина, хладилник, микровълнова)</li>
              <li>Място за украса според темата на празника</li>
              <li>Безплатен Wi-Fi и тонколона за фонова музика</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ПОКАНА – генериране на A4 PDF -->
  <section id="invite" class="invite snap py-5">
    <div class="container" style="max-width: 860px;">
      <h2 class="text-center mb-3" style="font-family:'Rosarium',serif;">Генерирай покана</h2>
      <p class="text-center opacity-75 mb-4">Попълни детайлите и свали поканата като PDF (A4).</p>

      <form id="inviteForm" class="card p-3 p-md-4 bg-transparent">
        <div class="row g-3">
          <div class="col-md-6">
            <label class="form-label">От (рожденник)</label>
            <input class="form-control" name="from" placeholder="Стефи" required>
          </div>

          <div class="col-md-6">
            <label class="form-label">Възраст на рожденика</label>
            <input type="number" min="1" max="120" class="form-control" name="age" placeholder="8" required>
          </div>

          <div class="col-md-6">
            <label class="form-label">Дата</label>
            <input type="date" class="form-control" name="date" required>
          </div>

          <div class="col-md-6">
            <label class="form-label">Час</label>
            <input type="time" class="form-control" name="time" required>
          </div>

          <div class="col-12 d-grid d-sm-block">
            <button class="btn btn-primary mb-2 mb-sm-0" type="button" id="inviteDownloadBtn">Свали PDF</button>
            <button class="btn btn-outline-light ms-sm-2" type="reset" id="inviteResetBtn">Изчисти</button>
          </div>
        </div>
      </form>
      <p class="text-center opacity-75 small mt-3">* Файлът е една страница A4, готова за изпращане или печат.</p>
    </div>
    <!-- FOOTER -->
    <footer class="py-4 text-center">
      <div class="container">
        <small class="d-block" style="color:#ccc;">Wonderland © 2025</small>
      </div>
    </footer>
  </section>
</main>



<!-- Bootstrap Bundle -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- Скрол до секция по data-scroll -->
<script>
  (function(){
    const OFFSET = 0; // ако имаш фиксиран header с височина – можеш да компенсираш тук
    function smoothTo(target){
      const el = document.querySelector(target);
      if(!el) return;
      const top = el.getBoundingClientRect().top + window.scrollY - OFFSET;
      window.scrollTo({ top, behavior: 'smooth' });
    }
    document.addEventListener('click', (e)=>{
      const a = e.target.closest('[data-scroll]');
      if(!a) return;
      e.preventDefault();
      smoothTo(a.getAttribute('data-scroll'));
    });

    // iOS Safari reload scroll-jump guard
    window.history.scrollRestoration = 'manual';
    window.addEventListener('pageshow', (e)=>{
      if (e.persisted) window.scrollTo(0,0);
    }, { passive:true });
  })();
</script>
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js" defer></script>

<script src="packages-data.js" defer></script>
<script src="lazy-loader-pkg.js" defer></script>
<script src="packages.js" defer></script>
<script src="scripts.js" defer></script>
<script src="drive-gallery.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
<script>
  emailjs.init('RMjfaoWxN1fGEjF-F');
</script>
<script src="contact.js" defer></script>
<script src="invite.js" defer></script>

<!-- Scroll Indicator (фиксиран, винаги отгоре) -->
<button
        id="scroll-indicator"
        class="scroll-indicator"
        type="button"
        aria-label="Скролни надолу"
        data-scroll="#how">
  <span class="chev"></span>
</button>
<div id="package-overlay" class="pkg-overlay d-none" aria-hidden="true"></div>
</body>
</html>
